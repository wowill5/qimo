<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>期末作业</title>
    <link href="css/ol.css" rel="stylesheet" type="text/css" />
    <script src="js/ol.js" type="text/javascript"></script>
    <!--  引入第三方插件库 -->
    <script src="js/jquery-1.11.2.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" />
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" type="text/javascript"></script> 
    <script src="js/FileSaver.min.js" ></script>
    <link rel="stylesheet" href="https://apps.bdimg.com/libs/jquerymobile/1.4.5/jquery.mobile-1.4.5.min.css">
	<script src="https://apps.bdimg.com/libs/jquery/1.10.2/jquery.min.js"></script>
	<script src="https://apps.bdimg.com/libs/jquerymobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
	<script src="http://echarts.baidu.com/build/dist/echarts.js"></script>
	<script src="http://echarts.baidu.com/doc/example/timelineOption.js"></script>
    <style type="text/css">
        #mapCon {
            width: 100%;
            height: 95%;
            position: absolute;
        }
        .menu1 {
            position: absolute;
            z-index: 9999;
            left: 50%;
            transform: translateX(-50%);
        }

        #menu {
            float: left;
            position: absolute;
            bottom: 30px;
            left: 10px;
            z-index: 2000;
        }
        .span{
        	padding: 2px;
        	
        }

        .checkbox {
            left: 20px;
        }
        /**
        * 提示框的样式信息
        */
        .tooltip {
            position: relative;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 4px;
            color: white;
            padding: 4px 8px;
            opacity: 0.7;
            white-space: nowrap;
        }

        .tooltip-measure {
            opacity: 1;
            font-weight: bold;
        }

        .tooltip-static {
            background-color: #ffcc33;
            color: black;
            border: 1px solid white;
        }

            .tooltip-measure:before,
            .tooltip-static:before {
                border-top: 6px solid rgba(0, 0, 0, 0.5);
                border-right: 6px solid transparent;
                border-left: 6px solid transparent;
                content: "";
                position: absolute;
                bottom: -6px;
                margin-left: -7px;
                left: 50%;
            }

            .tooltip-static:before {
                border-top-color: #ffcc33;
            }

         /*=S 自定义鹰眼样式 */
        .ol-custom-overviewmap, .ol-custom-overviewmap.ol-uncollapsible {
            bottom: auto;
            left: auto;
            /* 右侧显示 */
            right: 0;
            /* 顶部显示 */
            top: 0;
        }
            /* 鹰眼控件展开时控件外框的样式 */
            .ol-custom-overviewmap:not(.ol-collapsed) {
                border: 1px solid black;
            }
            /* 鹰眼控件中地图容器样式 */
            .ol-custom-overviewmap .ol-overviewmap-map {
                border: none;
                width: 300px;
            }
            /* 鹰眼控件中显示当前窗口中主图区域的边框 */
            .ol-custom-overviewmap .ol-overviewmap-box {
                border: 2px solid red;
            }
            /* 鹰眼控件展开时其控件按钮图标的样式 */
            .ol-custom-overviewmap:not(.ol-collapsed) button {
                bottom: auto;
                left: auto;
                right: 1px;
                top: 1px;
            }
        /*=E 自定义鹰眼样式 */
       /* 鼠标位置控件层样式设置 */
        #mouse-position {
            float: right;
            position: absolute;
            bottom: 5px;
            width: 200px;
            height: 40px;
            /*在地图容器中的层，要设置z-index的值让其显示在地图上层*/
            z-index: 2000;
        }
        /* 鼠标位置信息自定义样式设置 */
        .custom-mouse-position {
            color: rgb(0,0,0);
            font-size: 16px;
            font-family: "微软雅黑";
        }
        #myPopup{
		text-align: center;
        width: 700px;
        height: 400px;
        font-size: 14px;
        padding: 0;
        font-family: "微软雅黑";
        left: 100px;
	}
    </style>
</head>
<body>
    <div id="mapCon">
    	
        <div id="menu">
            <span id="btn1" style="padding: 0;" >			
				<input type="button" value="测量长度"  onclick="cd() " style="padding: 0;" /></br>
			    <input type="button" value="测量面积" onclick="mj()" style="padding: 0;" /></br>
			    <input type="button" value="退出测量" onclick="tc()" style="padding: 0;" /></br>
			    <input type="button" value="导出图片" id="dc"  style="padding: 0;" /></br>
				<div data-role="main" class="ui-content">
    				<a href="#myPopup" data-rel="popup" data-position-to="window"  class="ui-btn ui-corner-all ui-btn-inline" >打开弹窗</a><br />
					<div data-role="popup" id="myPopup">
	    				<a href="#" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b ui-icon-back ui-btn-icon-left" data-rel="back" >关闭弹窗</a>
	    				<div data-role="main" class="ui-content">
	        				<div id="sec" style="width:600px;height:300px"></div>
        	
    					</div>
    				</div>
				</div>
           </span>
        <label class="checkbox"><input type="checkbox" id="geodesic" />使用测地学方法测量</label>
        </div> 
        <div class="menu1">
            <label>切换图层：</label>
            <select name="changeLayer" id="LayerSelect" onchange="changeLayer()">
            	<option value="img">天地图影像地图</option>
                <option value="vec">天地图矢量地图</option>
            </select>
        </div>
    </div>
    <div id="mouse-position"></div>
    <script type="text/javascript">
    	 //实例化鼠标位置控件（MousePosition）
        var mousePositionControl = new ol.control.MousePosition({
            //坐标格式
            coordinateFormat: ol.coordinate.createStringXY(6),
            //地图投影坐标系（若未设置则输出为默认投影坐标系下的坐标）
            projection: 'EPSG:4326',
            //坐标信息显示样式类名，默认是'ol-mouse-position'
            className: 'custom-mouse-position',
            //显示鼠标位置信息的目标容器
            target: document.getElementById('mouse-position'),
            //未定义坐标的标记
            undefinedHTML: '&nbsp;'
        });
    	 //实例化比例尺控件（ScaleLine）
        var scaleLineControl = new ol.control.ScaleLine({
            //设置比例尺单位，degrees、imperial、us、nautical、metric（度量单位）
            units: "metric"
        });
        //实例化鹰眼控件（OverviewMap）,自定义样式的鹰眼控件
        var overviewMapControl = new ol.control.OverviewMap({
            //鹰眼控件样式（see in overviewmap-custom.html to see the custom CSS used）
            className: 'ol-overviewmap ol-custom-overviewmap',
            //鹰眼中加载同坐标系下不同数据源的图层
			layers: [],
            //鹰眼控件展开时功能按钮上的标识（网页的JS的字符编码）
            collapseLabel: '\u00BB',
            //鹰眼控件折叠时功能按钮上的标识（网页的JS的字符编码）
            label: '\u00AB',
            //初始为展开显示方式
            collapsed: false
        });
    	var TiandiMap_vec = new ol.layer.Tile({
            title: "天地图矢量图层",
            source: new ol.source.XYZ({
                url: "http://t0.tianditu.com/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=5c3ef488053a73450772239c6c4249ec",//parent.TiandituKey()为天地图密钥
                wrapX: false,
                crossOrigin: "Anonymous"
            })
        });
        var Tianditu_cva = new ol.layer.Tile({
            title: "天地图矢量注记图层",
            source: new ol.source.XYZ({
                url: "http://t0.tianditu.com/DataServer?T=cva_w&x={x}&y={y}&l={z}&tk=5c3ef488053a73450772239c6c4249ec",//parent.TiandituKey()为天地图密钥
                wrapX: false,
                crossOrigin: "Anonymous"
            })
        });
        //实例化天地图影像地图
         var imgTDT = new ol.layer.Tile({
         	title: "天地图影像图层",
                source: new ol.source.XYZ({
                url: "http://t0.tianditu.com/DataServer?T=img_w&x={x}&y={y}&l={z}&tk=5c3ef488053a73450772239c6c4249ec",//parent.TiandituKey()为天地图密钥
                wrapX: false,
                crossOrigin: "Anonymous"
            })
            });
            //实例化天地图影像注记地图
         var ciaTDT = new ol.layer.Tile({
         	title: "天地图影像注记图层",
                source: new ol.source.XYZ({
                url: "http://t0.tianditu.com/DataServer?T=cia_w&x={x}&y={y}&l={z}&tk=5c3ef488053a73450772239c6c4249ec",//parent.TiandituKey()为天地图密钥
                wrapX: false,
                crossOrigin: "Anonymous"
            })
            });
      
        //实例化Map对象加载地图
        var map = new ol.Map({
            target: 'mapCon', //地图容器div的ID
            //地图容器中加载的图层
            layers: [TiandiMap_vec,Tianditu_cva,imgTDT,ciaTDT],
            //地图视图设置
            view: new ol.View({
                center: [12560000, 3840000], //地图初始中心点
                zoom: 5 //地图初始显示级别
            })
            
        });
        map.addControl(overviewMapControl);
        map.addControl(scaleLineControl);  
        map.addControl(mousePositionControl);   
        //图层切换函数
        function changeLayer() {
            var type = $("#LayerSelect").val();
            if (type == "vec") {
                TiandiMap_vec.setVisible(true);
                Tianditu_cva.setVisible(true);
                imgTDT.setVisible(false);
                ciaTDT.setVisible(false);
            } else if (type == "img") {
                TiandiMap_vec.setVisible(false);
                Tianditu_cva.setVisible(false);
                imgTDT.setVisible(true);
                ciaTDT.setVisible(true);
            }
            }
        //加载测量的绘制矢量层
        var drawSource = new ol.source.Vector(); //图层数据源
        var vector = new ol.layer.Vector({
            source: drawSource,
            style: new ol.style.Style({ //图层样式
                fill: new ol.style.Fill({
                    color: 'rgba(255, 255, 255, 0.2)' //填充颜色
                }),
                stroke: new ol.style.Stroke({
                    color: '#ffcc33',  //边框颜色
                    width: 2   // 边框宽度
                }),
                image: new ol.style.Circle({
                    radius: 7,
                    fill: new ol.style.Fill({
                        color: '#ffcc33'
                    })
                })
            })
        });
        
        var wgs84Sphere = new ol.Sphere(6378137); //定义一个球对象
        var sketch;
        var helpTooltipElement;
        var helpTooltip;
        var measureTooltipElement;
        var measureTooltip;
        var continuePolygonMsg = '点击继续绘制多边形';
        var continueLineMsg = '点击继续绘制线';
        

        var geodesicCheckbox = document.getElementById('geodesic');//测地学方式对象
        var draw; 
        var type;
        
        //加载交互绘制控件函数
        function addInteraction() {
        	map.addLayer(vector);
        	var pointerMoveHandler = function (evt) {
	            if (evt.dragging) {
	                return;
	            }
	            var helpMsg = '点击开始绘制';//当前默认提示信息
	            //判断绘制几何类型设置相应的帮助提示信息
	            if (sketch) {
	                var geom = (sketch.getGeometry());
	                if (geom instanceof ol.geom.Polygon) {
	                    helpMsg = continuePolygonMsg; //绘制多边形时提示相应内容
	                } else if (geom instanceof ol.geom.LineString) {
	                    helpMsg = continueLineMsg; //绘制线时提示相应内容
	                }
	                helpTooltipElement.innerHTML = helpMsg; //将提示信息设置到对话框中显示
	                helpTooltip.setPosition(evt.coordinate);//设置帮助提示框的位置
	                $(helpTooltipElement).removeClass('hidden');//移除帮助提示框的隐藏样式进行显示
	            }
	            
	        };
	        map.on('pointermove', pointerMoveHandler); //地图容器绑定鼠标移动事件，动态显示帮助提示框内容
	        //地图绑定鼠标移出事件，鼠标移出时为帮助提示框设置隐藏样式
	        $(map.getViewport()).on('mouseout', function () {
	            $(helpTooltipElement).addClass('hidden');
	        });
            draw = new ol.interaction.Draw({
                source: drawSource,//测量绘制层数据源
                type: (type),  //几何图形类型
                style: new ol.style.Style({//绘制几何图形的样式
                    fill: new ol.style.Fill({
                        color: 'rgba(255, 255, 255, 0.2)'
                    }),
                    stroke: new ol.style.Stroke({
                        color: 'rgba(0, 0, 0, 0.5)',
                        lineDash: [10, 10],
                        width: 2
                    }),
                    image: new ol.style.Circle({
                        radius: 5,
                        stroke: new ol.style.Stroke({
                            color: 'rgba(0, 0, 0, 0.7)'
                        }),
                        fill: new ol.style.Fill({
                            color: 'rgba(255, 255, 255, 0.2)'
                        })
                    })
                })
            });
            map.addInteraction(draw);

            createMeasureTooltip(); //创建测量工具提示框
            createHelpTooltip(); //创建帮助提示框

            var listener;
            //绑定交互绘制工具开始绘制的事件
            draw.on('drawstart',
              function (evt) {
                  // set sketch
                  sketch = evt.feature; //绘制的要素
                  var tooltipCoord = evt.coordinate;// 绘制的坐标
                  //绑定change事件，根据绘制几何类型得到测量长度值或面积值，并将其设置到测量工具提示框中显示
                  listener = sketch.getGeometry().on('change', function (evt) {
                      var geom = evt.target;//绘制几何要素
                      var output;
                      if (geom instanceof ol.geom.Polygon) {
                          output = formatArea(/** @type {ol.geom.Polygon} */(geom));//面积值
                          tooltipCoord = geom.getInteriorPoint().getCoordinates();//坐标
                      } else if (geom instanceof ol.geom.LineString) {
                          output = formatLength( /** @type {ol.geom.LineString} */(geom));//长度值
                          tooltipCoord = geom.getLastCoordinate();//坐标
                      }
                      measureTooltipElement.innerHTML = output;//将测量值设置到测量工具提示框中显示
                      measureTooltip.setPosition(tooltipCoord);//设置测量工具提示框的显示位置
                  });
              }, this);
            //绑定交互绘制工具结束绘制的事件
            draw.on('drawend',
                function (evt) {
                    measureTooltipElement.className = 'tooltip tooltip-static'; //设置测量提示框的样式
                    measureTooltip.setOffset([0, -7]);
                    // unset sketch
                    sketch = null; //置空当前绘制的要素对象
                    // unset tooltip so that a new one can be created
                    measureTooltipElement = null; //置空测量工具提示框对象
                    createMeasureTooltip();//重新创建一个测试工具提示框显示结果
                    ol.Observable.unByKey(listener);
                }, this);
            //测量长度输出
	        var formatLength = function (line) {
	            var length;
	            if (geodesicCheckbox.checked) { 
	            	//若使用测地学方法测量
	                var coordinates = line.getCoordinates();//解析线的坐标
	                length = 0;
	                var sourceProj = map.getView().getProjection(); //地图数据源投影坐标系
	                //通过遍历坐标计算两点之前距离，进而得到整条线的长度
	                for (var i = 0, ii = coordinates.length - 1; i < ii; ++i) {
	                    var c1 = ol.proj.transform(coordinates[i], sourceProj, 'EPSG:4326');
	                    var c2 = ol.proj.transform(coordinates[i + 1], sourceProj, 'EPSG:4326');
	                    length += wgs84Sphere.haversineDistance(c1, c2);
	                }
	            } else {
	                length = Math.round(line.getLength() * 100) / 100; 
	                //直接得到线的长度
	            }
	            var output;
	            if (length > 100) {
	                output = (Math.round(length / 1000 * 100) / 100) + ' ' + 'km'; //换算成KM单位
	            } else {
	                output = (Math.round(length * 100) / 100) + ' ' + 'm'; //m为单位
	            }
	            return output;//返回线的长度
	        };
	
	        //测量面积输出
	        var formatArea = function (polygon) {
	            var area;
	            if (geodesicCheckbox.checked) {//若使用测地学方法测量
	                var sourceProj = map.getView().getProjection();//地图数据源投影坐标系
	                var geom = /** @type {ol.geom.Polygon} */(polygon.clone().transform(sourceProj, 'EPSG:4326')); //将多边形要素坐标系投影为EPSG:4326
	                var coordinates = geom.getLinearRing(0).getCoordinates();//解析多边形的坐标值
	                area = Math.abs(wgs84Sphere.geodesicArea(coordinates)); //获取面积
	            } else {
	                area = polygon.getArea();//直接获取多边形的面积
	            }
	            var output;
	            if (area > 10000) {
	                output = (Math.round(area / 1000000 * 100) / 100) + ' ' + 'km<sup>2</sup>'; //换算成KM单位
	            } else {
	                output = (Math.round(area * 100) / 100) + ' ' + 'm<sup>2</sup>';//m为单位
	            }
	            return output; //返回多边形的面积
	        };
        }

        //创建一个新的帮助提示框（tooltip）
        function createHelpTooltip() {
            if (helpTooltipElement) {
                helpTooltipElement.parentNode.removeChild(helpTooltipElement);
            }
            helpTooltipElement = document.createElement('div');
            helpTooltipElement.className = 'tooltip hidden';
            helpTooltip = new ol.Overlay({
                element: helpTooltipElement,
                offset: [15, 0],
                positioning: 'center-left'
            });
            map.addOverlay(helpTooltip);
        }
        
        //创建一个新的测量工具提示框（tooltip）
        function createMeasureTooltip() {
            if (measureTooltipElement) {
                measureTooltipElement.parentNode.removeChild(measureTooltipElement);
            }
            measureTooltipElement = document.createElement('div');
            measureTooltipElement.className = 'tooltip tooltip-measure';
            measureTooltip = new ol.Overlay({
                element: measureTooltipElement,
                offset: [0, -15],
                positioning: 'bottom-center'
            });
            map.addOverlay(measureTooltip);
        }

        //addInteraction(); //调用加载绘制交互控件方法，添加绘图进行测量
        document.getElementById('dc').addEventListener('click',function() {
	       map.once('postcompose', function (event) {
	            var canvas = event.context.canvas;
	            canvas.toBlob(function (blob) {
	                saveAs(blob, 'map.png');
	                });               
	           });
	        map.renderSync();
        }); 

        function cd(){
        	type = 'LineString';
        	map.removeInteraction(draw);        	
        	addInteraction();
        }
        function mj(){
        	type = 'Polygon' ;
        	map.removeInteraction(draw);       	
        	addInteraction();
        }
        function tc(){
        	map.removeInteraction(draw);
			drawSource.clear();
          	if (measureTooltipElement) {
		        var len = map.getOverlays().getLength();
		        for (var i = len-1; 0 <= i; i--) {
		            if (map.getOverlays().getArray()[i].getElement().className === "tooltip tooltip-static") {
		                map.removeOverlay(map.getOverlays().getArray()[i]);
		            }
		        }
		        measureTooltipElement = null;
		    }
        	map.removeOverlay(measureTooltip);
        	map.removeOverlay(helpTooltip);
        }
 
		
		 //        路径配置,'./js/dist'本地文件路径  
    require.config({  
        paths: {  
            echarts: 'http://echarts.baidu.com/build/dist'  
        }  
    });  
    require(  
            [  
                'echarts',  
                'echarts/chart/line',   // 按需加载所需图表，如需动态类型切换功能，别忘了同时加载相应图表  
                'echarts/chart/bar'  
            ],  
            function (ec) {  
                var myChart = ec.init(document.getElementById('sec'));  
                option = {  
                    timeline:{  
                        data:[  
                            '2009-01-01','2010-01-01','2011-01-01','2012-01-01','2013-01-01',  
                            '2014-01-01','2015-01-01','2016-01-01','2017-01-01','2018-01-01'  
                        ],  
                        label : {  
                            formatter : function(s) {  
                                return s.slice(0, 4);  
                            }  
                        },  
                        controlPosition : 'none',
                        autoPlay : false, 
                        playInterval : 1000  
                    },  
                    options:[  
                        {  
                            title : {  
                                'text':'2002全国宏观经济指标',  
                                'subtext':'数据来自国家统计局'  
                            },  
                            tooltip : {'trigger':'axis'},
                            legend : {  
                                x:'right',  
                                'data':['GDP','金融','房地产','第一产业','第二产业','第三产业'],  
                                'selected':{  
                                    'GDP':true,  
                                    '金融':true,  
                                    '房地产':true,  
                                    '第一产业':false,  
                                    '第二产业':false,  
                                    '第三产业':false  
                                }  
                            },
                            toolbox : {  
                                'show':true,  
                                orient : 'vertical',  
                                x: 'right',  
                                y: 'center',  
                                'feature':{    
                                    'dataView':{'show':true,'readOnly':false},  
                                    'magicType':{'show':true,'type':['line','bar','stack','tiled']},  
                                    'restore':{'show':true},  
                                    'saveAsImage':{'show':true}  
                                }  
                            },  
                            calculable : true,  
                            grid : {'y':80,'y2':100},  
                            xAxis : [{  
                                'type':'category',  
                                'axisLabel':{'interval':0,
                                'clickable' : true},
                                'data':[  
                                    '北京','\n天津','河北','\n山西','内蒙古','\n辽宁','吉林','\n黑龙江',  
                                    '上海','\n江苏','浙江','\n安徽','福建','\n江西','山东','\n河南',  
                                    '湖北','\n湖南','广东','\n广西','海南','\n重庆','四川','\n贵州',  
                                    '云南','\n西藏','陕西','\n甘肃','青海','\n宁夏','新疆'  
                                ]  
                            }],  
                            yAxis : [  
                                {  
                                    'type':'value',  
                                    'name':'GDP（亿元）',  
                                    'max':53500  
                                },  
                                {  
                                    'type':'value',  
                                    'name':'其他（亿元）'  
                                }  
                            ],  
                            series : [  
                                {  
                                    'name':'GDP',  
                                    'type':'bar',  
                                    'markLine':{  
                                        symbol : ['arrow','none'],  
                                        symbolSize : [4, 2],  
                                        itemStyle : {  
                                            normal: {  
                                                lineStyle: {color:'orange'},  
                                                barBorderColor:'orange',  
                                                label:{  
                                                    position:'left',  
                                                    formatter:function(params){  
                                                        return Math.round(params.value);  
                                                    },  
                                                    textStyle:{color:'orange'}  
                                                }  
                                            }  
                                        },  
                                        'data':[{'type':'average','name':'平均值'}]  
                                    },  
                                    'data': dataMap.dataGDP['2002']  
                                },  
                                {  
                                    'name':'金融','yAxisIndex':1,'type':'bar',  
                                    'data': dataMap.dataFinancial['2002']  
                                },  
                                {  
                                    'name':'房地产','yAxisIndex':1,'type':'bar',  
                                    'data': dataMap.dataEstate['2002']  
                                },  
                                {  
                                    'name':'第一产业','yAxisIndex':1,'type':'bar',  
                                    'data': dataMap.dataPI['2002']  
                                },  
                                {  
                                    'name':'第二产业','yAxisIndex':1,'type':'bar',  
                                    'data': dataMap.dataSI['2002']  
                                },  
                                {  
                                    'name':'第三产业','yAxisIndex':1,'type':'bar',  
                                    'data': dataMap.dataTI['2002']  
                                }  
                            ]  
                        },  
                        {  
                            title : {'text':'全国宏观经济指标'},  
                            series : [  
                                {'data': dataMap.dataGDP['2003']},  
                                {'data': dataMap.dataFinancial['2003']},  
                                {'data': dataMap.dataEstate['2003']},  
                                {'data': dataMap.dataPI['2003']},  
                                {'data': dataMap.dataSI['2003']},  
                                {'data': dataMap.dataTI['2003']}  
                            ]  
                        },  
                        {  
                            title : {'text':'2004全国宏观经济指标'},  
                            series : [  
                                {'data': dataMap.dataGDP['2004']},  
                                {'data': dataMap.dataFinancial['2004']},  
                                {'data': dataMap.dataEstate['2004']},  
                                {'data': dataMap.dataPI['2004']},  
                                {'data': dataMap.dataSI['2004']},  
                                {'data': dataMap.dataTI['2004']}  
                            ]  
                        },  
                        {  
                            title : {'text':'2005全国宏观经济指标'},  
                            series : [  
                                {'data': dataMap.dataGDP['2005']},  
                                {'data': dataMap.dataFinancial['2005']},  
                                {'data': dataMap.dataEstate['2005']},  
                                {'data': dataMap.dataPI['2005']},  
                                {'data': dataMap.dataSI['2005']},  
                                {'data': dataMap.dataTI['2005']}  
                            ]  
                        },  
                        {  
                            title : {'text':'2006全国宏观经济指标'},  
                            series : [  
                                {'data': dataMap.dataGDP['2006']},  
                                {'data': dataMap.dataFinancial['2006']},  
                                {'data': dataMap.dataEstate['2006']},  
                                {'data': dataMap.dataPI['2006']},  
                                {'data': dataMap.dataSI['2006']},  
                                {'data': dataMap.dataTI['2006']}  
                            ]  
                        },  
                        {  
                            title : {'text':'2007全国宏观经济指标'},  
                            series : [  
                                {'data': dataMap.dataGDP['2007']},  
                                {'data': dataMap.dataFinancial['2007']},  
                                {'data': dataMap.dataEstate['2007']},  
                                {'data': dataMap.dataPI['2007']},  
                                {'data': dataMap.dataSI['2007']},  
                                {'data': dataMap.dataTI['2007']}  
                            ]  
                        },  
                        {  
                            title : {'text':'2008全国宏观经济指标'},  
                            series : [  
                                {'data': dataMap.dataGDP['2008']},  
                                {'data': dataMap.dataFinancial['2008']},  
                                {'data': dataMap.dataEstate['2008']},  
                                {'data': dataMap.dataPI['2008']},  
                                {'data': dataMap.dataSI['2008']},  
                                {'data': dataMap.dataTI['2008']}  
                            ]  
                        },  
                        {  
                            title : {'text':'2009全国宏观经济指标'},  
                            series : [  
                                {'data': dataMap.dataGDP['2009']},  
                                {'data': dataMap.dataFinancial['2009']},  
                                {'data': dataMap.dataEstate['2009']},  
                                {'data': dataMap.dataPI['2009']},  
                                {'data': dataMap.dataSI['2009']},  
                                {'data': dataMap.dataTI['2009']}  
                            ]  
                        },  
                        {  
                            title : {'text':'2010全国宏观经济指标'},  
                            series : [  
                                {'data': dataMap.dataGDP['2010']},  
                                {'data': dataMap.dataFinancial['2010']},  
                                {'data': dataMap.dataEstate['2010']},  
                                {'data': dataMap.dataPI['2010']},  
                                {'data': dataMap.dataSI['2010']},  
                                {'data': dataMap.dataTI['2010']}  
                            ]  
                        },  
                        {  
                            title : {'text':'2011全国宏观经济指标'},  
                            series : [  
                                {'data': dataMap.dataGDP['2011']},  
                                {'data': dataMap.dataFinancial['2011']},  
                                {'data': dataMap.dataEstate['2011']},  
                                {'data': dataMap.dataPI['2011']},  
                                {'data': dataMap.dataSI['2011']},  
                                {'data': dataMap.dataTI['2011']}  
                            ]  
                        }  
                    ]  
                };  
  
  
                myChart.setOption(option);  
            }  
    );  
    </script>
</body>
</html>